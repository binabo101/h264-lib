## Utilizing Node.js Packages within EJS Templates

To incorporate a `node_modules` package into your EJS templates, you can directly pass the required module from your server-side Node.js code to the template when rendering. This approach allows you to leverage the full functionality of the package within your view files.

### Server-Side Implementation

The primary method involves using the `res.render()` function in your Express.js application. When you render an EJS file, you can pass a data object as the second argument. This object's properties are then accessible as variables within the EJS template.

Here's a step-by-step guide using the popular `moment` library as an example:

1.  **Installation:** First, ensure you have the desired package installed in your project:
    ```bash
    npm install moment
    ```

2.  **Express Setup:** In your main server file (e.g., `app.js`), require the package and pass it to your template during rendering.

    ```javascript
    const express = require('express');
    const app = express();
    const moment = require('moment'); // Require the package

    app.set('view engine', 'ejs');

    app.get('/', (req, res) => {
      res.render('index', { moment: moment }); // Pass the moment object to the template
    });

    app.listen(3000, () => {
      console.log('Server is running on port 3000');
    });
    ```

### EJS Template Usage

Once the module is passed to the EJS file, you can access its methods and properties using the variable name you assigned it in the `res.render()` call (in this case, `moment`).

In your `views/index.ejs` file, you can now use `moment` to format dates or perform other functions:

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EJS with Node Modules</title>
</head>
<body>
    <h1>Using a Node.js Package in EJS</h1>
    <p>Current date and time formatted with Moment.js: <%= moment().format('MMMM Do YYYY, h:mm:ss a') %></p>
    <p>Another example: Today is <%= moment().format('dddd') %>.</p>
</body>
</html>
```

This same technique can be applied to any `node_modules` package, allowing you to seamlessly integrate server-side functionalities directly into your dynamic HTML templates.